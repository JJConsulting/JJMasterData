# Component Factories

Component factories are used to do the hard work of DI for you, so you can easily create components.

## <xref:JJMasterData.Core.UI.Components.IComponentFactory>

This is the "factory of the factories". With this factory you can create all components.

```csharp
///At your controller...
public class YourController(IComponentFactory componentFactory) : Controller
{
    [ViewData]
    public string FormViewHtml { get; set; }
    
    public async Task<IActionResult> Index()
    {
        var formView = await componentFactory.FormView.CreateAsync("elementName");
        
        var result = await formView.GetResultAsync();
        
        if(result is IActionResult actionResult)
            return actionResult;
        
        FormViewHtml = result.Content;
        
        return View();
    }
}

///At your view...
<form asp-controller="YourController" asp-action="Index" method="POST">
    @Html.Raw(ViewData["FormViewHtml"])
</form>
```
## <xref:JJMasterData.Core.UI.Components.IFormElementComponentFactory`1>

This factory is used for top-level <xref:JJMasterData.Core.DataDictionary.Models.FormElement> components.

```csharp
///At your controller...
public class YourController(IFormElementComponentFactory<JJFormView> formViewFactory) : Controller
{
    [ViewData]
    public string FormViewHtml { get; set; }

    public async Task<IActionResult> Index()
    {
        var formView = await formViewFactory.CreateAsync("elementName");
        
        var result = await formView.GetResultAsync();
        
        if(result is IActionResult actionResult)
            return actionResult;
        
        FormViewHtml = result.Content;
        
        return View();
    }
}

///At your view...
<form asp-controller="YourController" asp-action="Index" method="POST">
    @Html.Raw(ViewData["FormViewHtml"])
</form>
```

## <xref:JJMasterData.Core.UI.Components.IControlFactory`1>
This factory is used for HTML form controls, normally generated by FormElement fields (<xref:JJMasterData.Core.DataDictionary.Models.FormElementField>)

```csharp
///At your controller...
public class YourController(IControlFactory<JJSearchBox> searchBoxFactory) : Controller
{
    [ViewData]
    public string SearchBoxHtml { get; set; }

    public async Task<IActionResult> Index()
    {
        var searchBox = searchBoxFactory.Create();
        
        var result = await searchBox.GetResultAsync();
        
        if(result is IActionResult actionResult)
            return actionResult;
        
        FormViewHtml = result.Content;
        
        return View();
    }
}

///At your view...
<form asp-controller="YourController" asp-action="Index" method="POST">
    @Html.Raw(ViewData["SearchBoxHtml"])
</form>
```

## <xref:JJMasterData.Core.UI.Components.HtmlComponentFactory>
This factory is used for HTML static components. 
Normally these components have [TagHelpers](taghelpers.md) that are more easy to use. 

```csharp
///At your view...

@inject HtmlComponentFactory Factory

@{
    var card = Factory.Card.Create();
    card.Title = "Example";
}
    
@Html.Raw(card.GetHtml())
```