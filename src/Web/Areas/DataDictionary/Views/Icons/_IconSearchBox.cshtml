@using JJMasterData.Core.Web
@using JJMasterData.Core.Web.Components
@using JJMasterData.Core.Web.Http.Abstractions
@using JJMasterData.Web.Extensions
@inject IHttpContext HttpContext
@model JJMasterData.Web.Areas.DataDictionary.Models.ViewModels.IconViewModel 

@* ReSharper disable once Html.IdNotResolved *@
@{
    var searchBox = new JJSearchBox(HttpContext)
    {
        DataItem =
        {
            ShowImageLegend = true,
            Items = Enum.GetValues<IconType>().Select(i => new DataItemValue(i.GetId().ToString(), i.GetDescription(), i, "6a6a6a")).ToList()
        },
        SelectedValue = ((int)Model.SelectedIcon).ToString(),
        Name = Model.InputId
    };
}

@if (BootstrapHelper.Version >= 4)
{
    @if (Model.EnablePopUp)
    {
        <a href="javascript: void(0);" @BootstrapHelper.GetDataToggle("tooltip") title="Search Icon" onclick="popup.showHtmlFromUrl('Icons','@Url.Action("Index", "Icons", new {inputId = Model.InputId})');" style="text-decoration:none">
            <span class="fa fa-search "></span>
        </a>
    }
    @searchBox.GetHtmlString()
}
else
{
    <div class="input-group">
        @searchBox.GetHtmlString()
        <span class="@BootstrapHelper.InputGroupBtn">
            <button class="@BootstrapHelper.DefaultButton" type="button" onclick="popup.showHtmlFromUrl('Icons','@Url.Action("Index", "Icons", new {inputId = Model.InputId})');">
                <span class="fa fa-search"></span>
            </button>
        </span>
    </div>
}