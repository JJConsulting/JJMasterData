@using JJMasterData.Core.UI
@using JJMasterData.Core.UI.Components
@model JJMasterData.Web.Areas.DataDictionary.Models.ViewModels.EntityViewModel


<div class="row">
    <div class="@BootstrapHelper.FormGroup col-sm-6 required">
        <label asp-for="FormElement.Name" class=" col-form-label form-label"></label>
        <tooltip title="Unique identifier of the element."/>
        @Html.TextBoxFor(model => model.FormElement.Name, Model.HtmlAttributes)
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-6 required">
        <label asp-for="FormElement.TableName" class=" col-form-label form-label"> </label>
        <tooltip title="Table where the element data is stored."/>
        @Html.TextBoxFor(model => model.FormElement.TableName, Model.HtmlAttributes)
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-1 ">
        <label asp-for="FormElement.UseReadProcedure" class=" col-form-label form-label"></label>
        <checkbox for="FormElement.UseReadProcedure" enabled="!Model.ReadOnly" switch="true"/>
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-5" id="read-procedure-name-div">
        <label asp-for="FormElement.ReadProcedureName" class=" col-form-label form-label"></label>
        <tooltip title="Name for the procedure used to read data."/>
        @Html.TextBoxFor(model => model.FormElement.ReadProcedureName, Model.HtmlAttributes)
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-1 ">
        <label asp-for="FormElement.UseWriteProcedure" class=" col-form-label form-label"></label>
        <checkbox for="FormElement.UseWriteProcedure" enabled="!Model.ReadOnly" switch="true"/>
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-5" id="write-procedure-name-div">
        <label asp-for="FormElement.WriteProcedureName" class=" col-form-label form-label">
        </label>
        <tooltip title="Name for the procedure used to write data."/>
        @Html.TextBoxFor(model => model.FormElement.WriteProcedureName, Model.HtmlAttributes)
    </div>
    <div class="@BootstrapHelper.FormGroup col-sm-5 flex-grow-1">
        <label asp-for="FormElement.Info" class=" col-form-label form-label">
        </label>
        <tooltip title="Developer only information about the data dictionary."/>
        @Html.TextBoxFor(model => model.FormElement.Info, Model.HtmlAttributes)
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const useReadProcedureCheckbox = document.getElementById('FormElement_UseReadProcedure-checkbox');
        const readProcedureDiv = document.querySelector('#read-procedure-name-div');
        const useWriteProcedureCheckbox = document.getElementById('FormElement_UseWriteProcedure-checkbox'); // Changed ID
    
        function toggleProcedure(checkbox, div) {
            if (checkbox.checked) {
                div.style.display = 'block';
            } else {
                div.style.display = 'none';
            }
        }
    
        toggleProcedure(useReadProcedureCheckbox, readProcedureDiv);
        useReadProcedureCheckbox.addEventListener('change', function () {
            toggleProcedure(useReadProcedureCheckbox, readProcedureDiv);
        });
    
        const writeProcedureDiv = document.querySelector('#write-procedure-name-div');
        
        toggleProcedure(useWriteProcedureCheckbox, writeProcedureDiv);
        useWriteProcedureCheckbox.addEventListener('change', function () {
            toggleProcedure(useWriteProcedureCheckbox, writeProcedureDiv);
        });
    });

</script>