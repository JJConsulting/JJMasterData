@inject IStringLocalizer<MasterDataResources> StringLocalizer

@using JJConsulting.Html.Bootstrap.Models
@using JJMasterData.Core.DataDictionary.Models
@using JJMasterData.Web.TagHelpers
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model JJMasterData.Core.DataDictionary.Models.FormElementField

@{
    var cultures = System.Globalization.CultureInfo.GetCultures(System.Globalization.CultureTypes.SpecificCultures);
}


@if (Model.Component is FormComponent.Text
     or FormComponent.Number
     or FormComponent.Password
     or FormComponent.Email
     or FormComponent.Cnpj
     or FormComponent.Cpf
     or FormComponent.CnpjCpf
     or FormComponent.Cep)
{
    <div class="mb-3 col-sm-4">
        <label for="txtPlaceHolder" class="form-label">@StringLocalizer["Placeholder"]</label>
        <input class="form-control" placeholder="" id="txtPlaceHolder" name="txtPlaceHolder" maxlength="100" type="text" value="@Model.GetAttr(FormElementField.PlaceholderAttribute)">
    </div>
}

@switch (Model.Component)
{
    case FormComponent.CheckBox:
    {
        var isSwitch = Model.GetAttr(FormElementField.IsSwitchAttribute)?.ToString()?.ToLowerInvariant();
        var isButton = Model.GetAttr(FormElementField.IsButtonAttribute)?.ToString()?.ToLowerInvariant();
        <div class="mb-3 col-sm-4">
            <label for="checkbox-layout" class="form-label">@StringLocalizer["Layout"]</label>
            <select id="checkbox-layout" name="checkbox-layout" class="form-select">
                <option value="checkbox" selected="@(isSwitch != "true" && isButton != "true")">Checkbox</option>
                <option value="switch" selected="@(isSwitch == "true")">Switch</option>
                <option value="button" selected="@(isButton== "true")">@StringLocalizer["Button"]</option>
            </select>
        </div>
        break;
    }
    case FormComponent.Currency:
        <div class="col-sm-4">
            <label for="@FormElementField.CultureInfoAttribute" class="form-label">@StringLocalizer["Culture"]</label>
            <select class="form-select" name="@FormElementField.CultureInfoAttribute" id="@FormElementField.CultureInfoAttribute">
                <option value="">@StringLocalizer["--Select--"]</option>
                @{
                    var selectedCulture = Model.GetAttr(FormElementField.CultureInfoAttribute);
                }
                @foreach (var culture in cultures)
                {
                    var isSelected = selectedCulture?.ToString() == culture.Name;
                    <option selected="@isSelected"
                            value="@culture.Name">
                        @($"{culture.DisplayName} - {culture.NumberFormat.CurrencySymbol}")
                    </option>
                }
            </select>
        </div>
        break;
    case FormComponent.Slider or FormComponent.Number:
        <div class="col-sm-4">
            <label for="minValue" class="form-label">@StringLocalizer["Minimum Value"]</label>
            <input class="form-control jj-numeric" placeholder="" type="number" name="minValue" id="minValue" value="@Model.GetAttr(FormElementField.MinValueAttribute)"/>
        </div>
        <div class="col-sm-4">
            <label for="maxValue" class="form-label">@StringLocalizer["Maximum Value"]</label>
            <input class="form-control jj-numeric" placeholder="" type="number" name="maxValue" id="maxValue" value="@Model.GetAttr(FormElementField.MaxValueAttribute)"/>
        </div>
        <div class="col-sm-4">
            <label for="step" class="form-label">@StringLocalizer["Step"]</label>
            <tooltip title="@StringLocalizer["Defines the interval at which the value changes."]"/>
            <input id="step" name="step" placeholder="1" class="form-control jj-numeric" type="number" value="@Model.GetAttr(FormElementField.StepAttribute)"/>
        </div>
        break;
    case FormComponent.TextArea:
        <div class="mb-3 col-sm-4">
            <label for="txtTextAreaRows" class="form-label">@StringLocalizer["Rows"]</label>
            <tooltip title="@StringLocalizer["Number of lines in the text box."]"/>
            <input class="form-control" id="txtTextAreaRows" name="txtTextAreaRows" maxlength="100" type="number" min="1" max="5000" placeholder="5" value="@Model.GetAttr(FormElementField.RowsAttribute)">
        </div>
        break;
    case FormComponent.Lookup:
        <div class="mb-3 col-sm-4">
            <label for="cboLkPopUpSize" class="form-label">@StringLocalizer["Modal Size"]</label>
            <select id="cboLkPopUpSize" name="cboLkPopUpSize" class="form-control form-select" asp-items="@Html.GetEnumSelectList<ModalSize>()"></select>
        </div>

        <div class="mb-3 col-sm-4">
            <label for="txtLkPopUpTitle" class="form-label">@StringLocalizer["Modal Title"]</label>
            <input class="form-control" id="txtLkPopUpTitle" name="txtLkPopUpTitle" maxlength="200" type="text" placeholder="@StringLocalizer["Search..."]" value="@Model.GetAttr(FormElementField.PopUpTitleAttribute)">
        </div>
        break;
    case FormComponent.Date:
    case FormComponent.DateTime:
    case FormComponent.Hour:
        <div class="mb-3 col-sm-4">
            <checkbox tooltip="@StringLocalizer["When opening the picker, fill the input with today's date."]" label="@StringLocalizer["Autocomplete"]" name="@(FormElementField.AutocompletePickerAttribute)"
                      layout="Switch"

                      value="@(Model.GetAttr(FormElementField.AutocompletePickerAttribute) is true)"/>
        </div>
        break;
}
